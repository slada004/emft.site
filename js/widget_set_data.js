$.getScript("https://fxpricing.com/live/files/socket.io/socket.io.js").done((function(e,o){socket_connection(),socket_re_connection()}));var socket_re_conn,socket,type="SOP",chg_per_bg=!0,text_color_enable=!1,high_low_value=!1,ids="",chg_only_price_bg=!1;function set_type(e="SOP",o=!0,c=!1,t=!1,l="",a=!1){""!=e&&(type=e.toUpperCase()),chg_per_bg=o,text_color_enable=c,high_low_value=t,ids=l,1==a&&socket_connection()}function socket_re_connection(){socket_re_conn=setTimeout((function(){console.log("Trying to reconnect "+(new Date).toLocaleString()),socket.disconnect(),socket.destroy()}),3e4)}function socket_connection(){void 0!==socket&&(socket.disconnect(),socket.destroy()),console.log("Getting connect "+(new Date).toLocaleString()),setTimeout((function(){try{console.log(wss_url),console.log("print url"),wss_url||(wss_url="wss://fxcoinapi.com"),socket=io.connect(wss_url,{transports:["websocket"],path:"/v3/"});let e=new URLSearchParams(window.location.search);e.has("id")&&(ids=e.get("id")),socket.emit("widget_join",ids,type),socket.on("data_received",(function(e){clearTimeout(socket_re_conn),socket_re_connection();var o=e.s.replace("/","-"),c=e.c,t=$("."+o+"-price").html();if(void 0!==t){if(chg_only_price_bg)var l=get_class_name(t,c);else l=get_class_name(t,c,text_color_enable);$("."+o+"-price").html(c),$("."+o+"-price").addClass(l),class_remove_text(o+"-price",l)}if("SPC"===type){if(void 0!==e.a){var a=e.a,s=$("."+o+"-ask").html();if(void 0!==s&&s!=a){var n=get_class_name(s,a,text_color_enable);$("."+o+"-ask").html(a),$("."+o+"-ask").addClass(n),class_remove_text(o+"-ask",n)}a-c}if(void 0!==e.b){var r=e.b,_=$("."+o+"-bid").html();if(void 0!==_&&_!=r){var i=get_class_name(_,r,text_color_enable);$("."+o+"-bid").html(r),$("."+o+"-bid").addClass(i),class_remove_text(o+"-bid",i)}c-r}if(void 0!==$("."+o+"-spread").html()&&$("."+o+"-spread").html(e.sp),void 0!==e.ch){var h=e.ch,d=$("."+o+"-change span").html();if(void 0!==d?$("."+o+"-change span").html(h):void 0!==(d=$("."+o+"-change").html())&&$("."+o+"-change").html(h),void 0!==d)if(chg_per_bg&&t!=c){var g=get_class_name(d,h,text_color_enable);$("."+o+"-change").addClass(g),"sell_clr"==g&&"buy_clr"==g&&"neutral_clr"==g||class_remove_text(o+"-change",g)}else text_color_change(o+"-change",h)}var m=$("."+o+"-change-per").html();if(void 0!==m&&void 0!==e.cp){var v=e.cp;if($("."+o+"-change-per").html(v),old_chg_=v.replace("%",""),chg_per_bg&&t!=c){var p=get_class_name(m,v,text_color_enable);$("."+o+"-change-per").addClass(p),"sell_clr"==p&&"buy_clr"==p&&"neutral_clr"==p||class_remove_text(o+"-change-per",p)}else text_color_change(o+"-change-per",old_chg_)}void 0!==h&&change_upd_icon(o,h);var u=$("."+o+"-high").html();if(void 0!==u&&e.h>u){var f=get_class_name(u,e.h,text_color_enable);$("."+o+"-high").addClass(f),class_remove_text(o+"-high",f),$("."+o+"-high").html(e.h)}var b=$("."+o+"-low").html();if(void 0!==b&&e.l>b){var w=get_class_name(b,e.l,text_color_enable);$("."+o+"-low").addClass(w),class_remove_text(o+"-low",w),$("."+o+"-low").html(e.l)}}if(high_low_value){var k=$("."+o+"-high span").html();void 0!==k&&e.h>k&&($("."+o+"-high span").addClass("buy_clr"),class_remove_text(o+"-high span","buy_clr"),$("."+o+"-high span").html(e.h));var x=$("."+o+"-low span").html();void 0!==x&&e.l>x&&($("."+o+"-low span").addClass("sell_clr"),class_remove_text(o+"-low span","sell_clr"),$("."+o+"-low span").html(e.l))}var C=new Date;$("."+o+"-time").html(C.toLocaleTimeString())}))}catch(e){console.log("Get error "+(new Date).toLocaleString()),setTimeout(socket_connection,3e3)}}),2e3)}function get_class_name(e,o,c=!1){o=o.replace(",","");var t="bg-green",l="buy_clr",a=$.trim(e);return a<0?a<o&&(t="bg-red",l="buy_clr"):a>o&&(t="bg-red",l="sell_clr"),c?l:t}function class_remove_text(e,o){setTimeout((function(){$("."+e).removeClass(o)}),1e3)}function text_color_change(e,o){$("."+e).removeClass("neutral_clr"),$("."+e).removeClass("buy_clr"),$("."+e).removeClass("sell_clr"),o<0?$("."+e).addClass("sell_clr"):o>0?$("."+e).addClass("buy_clr"):$("."+e).addClass("neutral_clr")}function change_upd_icon(e,o){$("."+e+"-iconc").removeClass("fa-angle-up"),$("."+e+"-iconc").removeClass("fa-angle-down"),$("."+e+"-iconc").removeClass("fa-arrows-alt-h"),o>0?$("."+e+"-iconc").addClass("fa-angle-up"):$("."+e+"-iconc").addClass("fa-angle-down")}